{"version":3,"sources":["../src/server.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;6BAEe,kBAAkB;;gCAEnB,qBAAqB;;;;2BAC1B,gBAAgB;;;;AAEtC,IAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,IAAM,GAAG,GAAG,kCAAkC,CAAC;;AAE/C,IAAI,KAAK,GAAG,gCAAiB,CAAC;;;AAG9B,IAAI,GAAG,GAAG,OAAO,EAAE,CAAC;;;AAGpB,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;;AAErB,IAAI,QAAQ,GAAG,SAAX,QAAQ,CAAY,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;AACvC,KAAI,IAAI,GAAG,yBAAU,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACxC,IAAG,CAAC,UAAU,GAAG,IAAI,CAAC;AACtB,KAAI,EAAE,CAAC;CACP,CAAC;;;AAGF,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;AAElB,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CACjB,GAAG,CAAC,UAAC,GAAG,EAAE,GAAG,EAAK;AAClB,MAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI,EAAK;AAC7C,WAAS;;EAET,CAAC,CAAC;CACH,CAAC,CAAC;;AAIJ,IAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,YAAW;AACxC,KAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC;AACpC,KAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;;AAEjC,QAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;CACrD,CAAC,CAAC","file":"server.js","sourcesContent":["\"use strict\";\n\nimport { MongoClient } from './MongoClient.js';\n\nimport collectionUtil from './collectionUtil.js';\nimport utilities from './utilities.js';\n\nconst express = require(\"express\");\nconst url = 'mongodb://localhost:27017/hey-pi';\n\nvar Mongo = new MongoClient();\n\n//INTIALIZE EXPRESS:\nvar app = express();\n\n//LOAD THE DATABASE\nMongo.dbConnect(url);\n\nvar urlStrip = function(req, res, next) {\n\tvar path = utilities.stripPath(req.url);\n\treq.strip_path = path;\n\tnext();\n};\n\n//strip path\napp.use(urlStrip);\n\napp.route('/api/*')\n\t.get((req, res) => {\n\t\tMongo._getData(req.strip_path).then((data) => {\n\t\t\tdebugger;\n\t\t\t// resp.send(data);\n\t\t});\n\t});\n\n\n\nvar server = app.listen(3000, function() {\n\tvar host = server.address().address;\n\tvar port = server.address().port;\n\n\tconsole.log('Listening at http://%s:%s', host, port);\n});\n"]}